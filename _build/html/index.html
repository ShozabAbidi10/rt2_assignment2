<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Welcome to rt2_assignment1’s documentation! &mdash; rt2_assignment1 1.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="#" class="icon icon-home"> rt2_assignment1
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">Welcome to rt2_assignment1’s documentation!</a><ul>
<li><a class="reference internal" href="#indices">Indices</a></li>
<li><a class="reference internal" href="#rt2-assignment1-s-documentation">Rt2_assignment1’s documentation!</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-scripts.user_interface_action">User Interface Module</a></li>
<li><a class="reference internal" href="#module-scripts.go_to_point_action">GoToPoint Module</a></li>
<li><a class="reference internal" href="#state-machine-module">State Machine Module</a></li>
</ul>
</div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">rt2_assignment1</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home"></a> &raquo;</li>
      <li>Welcome to rt2_assignment1’s documentation!</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="welcome-to-rt2-assignment1-s-documentation">
<h1>Welcome to rt2_assignment1’s documentation!<a class="headerlink" href="#welcome-to-rt2-assignment1-s-documentation" title="Permalink to this headline"></a></h1>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="indices">
<h2>Indices<a class="headerlink" href="#indices" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</div>
<div class="section" id="rt2-assignment1-s-documentation">
<h2>Rt2_assignment1’s documentation!<a class="headerlink" href="#rt2-assignment1-s-documentation" title="Permalink to this headline"></a></h2>
<p>This is the documentation of the RT2_assignment package!</p>
</div>
</div>
<div class="section" id="module-scripts.user_interface_action">
<span id="user-interface-module"></span><h1>User Interface Module<a class="headerlink" href="#module-scripts.user_interface_action" title="Permalink to this headline"></a></h1>
<span class="target" id="module-user_interface_action"></span><p>This node implements an user interface</p>
<dl class="simple">
<dt>Subscribers:</dt><dd><p>/user_interface_sig topic where flag value publishes by the user to either start or stop the simulation.</p>
</dd>
<dt>Service:</dt><dd><p>/user_interface use to forward the user’s request to either start or stop the simulation to the state_machine node .</p>
</dd>
</dl>
<dl class="py function">
<dt class="sig sig-object py" id="scripts.user_interface_action.clbk_user_interface">
<span class="sig-prename descclassname"><span class="pre">scripts.user_interface_action.</span></span><span class="sig-name descname"><span class="pre">clbk_user_interface</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/user_interface_action.html#clbk_user_interface"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.user_interface_action.clbk_user_interface" title="Permalink to this definition"></a></dt>
<dd><p>This function takes the msg data of type String as an
arguement coming from the  ‘/user_interface_sig’ topic
and store it in the global variable <cite>value_</cite>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scripts.user_interface_action.main">
<span class="sig-prename descclassname"><span class="pre">scripts.user_interface_action.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/user_interface_action.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.user_interface_action.main" title="Permalink to this definition"></a></dt>
<dd><p>This function initializes the ROS node and waits for the
user to signal to start or stop the robot simulation, by relying
on the <a class="reference external" href="http://wiki.ros.org/rospy/">rospy</a> module. The user
instruction is publish in the <code class="docutils literal notranslate"><span class="pre">user_interface_sig</span></code> topic. Upon
user’s instruction to start the simulation it send the signal to the
‘state_machine’ node to start the ‘random target position’ simulation.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scripts.user_interface_action.simulation_">
<span class="sig-prename descclassname"><span class="pre">scripts.user_interface_action.</span></span><span class="sig-name descname"><span class="pre">simulation_</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'off'</span></em><a class="headerlink" href="#scripts.user_interface_action.simulation_" title="Permalink to this definition"></a></dt>
<dd><p>A Global variable with datatype ‘string’ used as a flag to control the conditions for ‘while’ loop.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scripts.user_interface_action.value_">
<span class="sig-prename descclassname"><span class="pre">scripts.user_interface_action.</span></span><span class="sig-name descname"><span class="pre">value_</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'-1'</span></em><a class="headerlink" href="#scripts.user_interface_action.value_" title="Permalink to this definition"></a></dt>
<dd><p>A global variable with datatype ‘string’ used as a flag to start the simulation.</p>
</dd></dl>

</div>
<div class="section" id="module-scripts.go_to_point_action">
<span id="gotopoint-module"></span><h1>GoToPoint Module<a class="headerlink" href="#module-scripts.go_to_point_action" title="Permalink to this headline"></a></h1>
<span class="target" id="module-go_to_point_action"></span><p>ROS node for driving a robot to a specific point</p>
<dl>
<dt>Subscribers:</dt><dd><blockquote>
<div><p>/odom
/control_speed</p>
</div></blockquote>
<dl class="simple">
<dt>Publishers<span class="classifier">&lt;BR&gt;</span></dt><dd><p>/odom
/control_speed
/cancel_goals
/success_goals</p>
</dd>
</dl>
</dd>
<dt>Service:</dt><dd><p>/go_to_point</p>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="scripts.go_to_point_action.PositionAction">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">scripts.go_to_point_action.</span></span><span class="sig-name descname"><span class="pre">PositionAction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/go_to_point_action.html#PositionAction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.go_to_point_action.PositionAction" title="Permalink to this definition"></a></dt>
<dd><p>This class defines the ‘go_to_point’ action service through which ‘state_machine’ node assign
it goals. It also controls the internal state_machine of ‘go_to_point’ node which drives the robot
from current position to goal position. During the simulation based on the robot state it generates
and  publish feedbacks and insights which is use by jupyter notebook’s user interface script.</p>
<dl class="py method">
<dt class="sig sig-object py" id="scripts.go_to_point_action.PositionAction.execute_cb">
<span class="sig-name descname"><span class="pre">execute_cb</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">goal</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/go_to_point_action.html#PositionAction.execute_cb"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.go_to_point_action.PositionAction.execute_cb" title="Permalink to this definition"></a></dt>
<dd><p>This is a callback function for the service ‘go_to_point’.
This function execute when request is recieved from the client with arguement goal position.
After recieving the goal position it starts the internal state mahcine for driving the robot. This
function also updates and publishes some global variables which highlight some key insights
such as number of successful and cancelled goals, and list of time taken by
the robot to reach the targets.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scripts.go_to_point_action.change_state">
<span class="sig-prename descclassname"><span class="pre">scripts.go_to_point_action.</span></span><span class="sig-name descname"><span class="pre">change_state</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/go_to_point_action.html#change_state"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.go_to_point_action.change_state" title="Permalink to this definition"></a></dt>
<dd><p>This is a function used for changing the value of global variable ‘<a href="#id1"><span class="problematic" id="id2">state_</span></a>’
It takes an arguement with data type ‘int ‘ and assigned it to the global
variable ‘<a href="#id3"><span class="problematic" id="id4">state_</span></a>’.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scripts.go_to_point_action.clbk_ctrl_speed">
<span class="sig-prename descclassname"><span class="pre">scripts.go_to_point_action.</span></span><span class="sig-name descname"><span class="pre">clbk_ctrl_speed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/go_to_point_action.html#clbk_ctrl_speed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.go_to_point_action.clbk_ctrl_speed" title="Permalink to this definition"></a></dt>
<dd><p>This is a callback function of the subscriber ‘ctrl_speed’ for the ROS ‘/control_speed ‘topic’.
It takes the arguement of data structure type ‘Twist’, which contains speed factors value
and then store them in the global variables ‘<a href="#id5"><span class="problematic" id="id6">speed_factor_linear_</span></a>’ and ‘<a href="#id7"><span class="problematic" id="id8">speed_factor_angular_</span></a>’.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scripts.go_to_point_action.clbk_odom">
<span class="sig-prename descclassname"><span class="pre">scripts.go_to_point_action.</span></span><span class="sig-name descname"><span class="pre">clbk_odom</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/go_to_point_action.html#clbk_odom"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.go_to_point_action.clbk_odom" title="Permalink to this definition"></a></dt>
<dd><p>This is a callback function of the subscriber ‘sub_odom’ for the ROS topic ‘/odom’
It takes the robot’s odometry data as arguement, extract the position and yaw and
then store it in the global variables ‘<a href="#id9"><span class="problematic" id="id10">position_</span></a>’ and ‘<a href="#id11"><span class="problematic" id="id12">yaw_</span></a>’.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scripts.go_to_point_action.dist_precision_">
<span class="sig-prename descclassname"><span class="pre">scripts.go_to_point_action.</span></span><span class="sig-name descname"><span class="pre">dist_precision_</span></span><em class="property"> <span class="pre">=</span> <span class="pre">0.1</span></em><a class="headerlink" href="#scripts.go_to_point_action.dist_precision_" title="Permalink to this definition"></a></dt>
<dd><p>A global variable with datatype float used as a parameter for robot’s distance precision.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scripts.go_to_point_action.done">
<span class="sig-prename descclassname"><span class="pre">scripts.go_to_point_action.</span></span><span class="sig-name descname"><span class="pre">done</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/go_to_point_action.html#done"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.go_to_point_action.done" title="Permalink to this definition"></a></dt>
<dd><p>This function makes the linear and angular velocities to zero. Generally it
use when robot has successfully reach the target or when user have requested
the node to stop the robot.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scripts.go_to_point_action.fix_final_yaw">
<span class="sig-prename descclassname"><span class="pre">scripts.go_to_point_action.</span></span><span class="sig-name descname"><span class="pre">fix_final_yaw</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">des_yaw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/go_to_point_action.html#fix_final_yaw"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.go_to_point_action.fix_final_yaw" title="Permalink to this definition"></a></dt>
<dd><p>This function takes the desired yaw data as argument. Based on the ‘yaw error’ calculates the
final angular velocity require to match goal orientation and then publishes it in the topic ‘cmd_vel’.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scripts.go_to_point_action.fix_yaw">
<span class="sig-prename descclassname"><span class="pre">scripts.go_to_point_action.</span></span><span class="sig-name descname"><span class="pre">fix_yaw</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">des_pos</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/go_to_point_action.html#fix_yaw"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.go_to_point_action.fix_yaw" title="Permalink to this definition"></a></dt>
<dd><p>This function takes the desired position data as an argument. Calculates the
‘yaw error’ and based on that calculates the    required angular velocity and then
publishes it in the topic ‘cmd_vel’.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scripts.go_to_point_action.go_straight_ahead">
<span class="sig-prename descclassname"><span class="pre">scripts.go_to_point_action.</span></span><span class="sig-name descname"><span class="pre">go_straight_ahead</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">des_pos</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/go_to_point_action.html#go_straight_ahead"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.go_to_point_action.go_straight_ahead" title="Permalink to this definition"></a></dt>
<dd><p>This function takes the desired position data as argument. Calculate the ‘desired yaw’, ‘yaw error’
and ‘position error’  and based on these values calculates the required linear velocity and then
publishes it in the topic ‘cmd_vel’.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scripts.go_to_point_action.kp_a">
<span class="sig-prename descclassname"><span class="pre">scripts.go_to_point_action.</span></span><span class="sig-name descname"><span class="pre">kp_a</span></span><em class="property"> <span class="pre">=</span> <span class="pre">-3.0</span></em><a class="headerlink" href="#scripts.go_to_point_action.kp_a" title="Permalink to this definition"></a></dt>
<dd><p>A global variable with datatype float used as a parameter for generating robot’s new velocities.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scripts.go_to_point_action.kp_d">
<span class="sig-prename descclassname"><span class="pre">scripts.go_to_point_action.</span></span><span class="sig-name descname"><span class="pre">kp_d</span></span><em class="property"> <span class="pre">=</span> <span class="pre">0.2</span></em><a class="headerlink" href="#scripts.go_to_point_action.kp_d" title="Permalink to this definition"></a></dt>
<dd><p>A global variable with datatype float used as a parameter for generating robot’s new velocities.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scripts.go_to_point_action.lb_a">
<span class="sig-prename descclassname"><span class="pre">scripts.go_to_point_action.</span></span><span class="sig-name descname"><span class="pre">lb_a</span></span><em class="property"> <span class="pre">=</span> <span class="pre">-0.5</span></em><a class="headerlink" href="#scripts.go_to_point_action.lb_a" title="Permalink to this definition"></a></dt>
<dd><p>A global variable with datatype float used as a parameter for generating robot’s new velocities.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scripts.go_to_point_action.main">
<span class="sig-prename descclassname"><span class="pre">scripts.go_to_point_action.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/go_to_point_action.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.go_to_point_action.main" title="Permalink to this definition"></a></dt>
<dd><p>This function is a ‘main’ function of  ‘go_to_point’ node. It initializes the subscribers for ‘/odom’
and ‘/control_speed’ topics, publishers for ‘/cmd_vel’, ‘success_goals’, ‘/cancel_goal’, ‘task_time’
topics and lastly call the PositionAction service.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scripts.go_to_point_action.no_cancelled_target_">
<span class="sig-prename descclassname"><span class="pre">scripts.go_to_point_action.</span></span><span class="sig-name descname"><span class="pre">no_cancelled_target_</span></span><em class="property"> <span class="pre">=</span> <span class="pre">0</span></em><a class="headerlink" href="#scripts.go_to_point_action.no_cancelled_target_" title="Permalink to this definition"></a></dt>
<dd><p>Initializing a value of global variable to 0. It is used for storing the total number of cancelled goals.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scripts.go_to_point_action.no_successful_target_">
<span class="sig-prename descclassname"><span class="pre">scripts.go_to_point_action.</span></span><span class="sig-name descname"><span class="pre">no_successful_target_</span></span><em class="property"> <span class="pre">=</span> <span class="pre">0</span></em><a class="headerlink" href="#scripts.go_to_point_action.no_successful_target_" title="Permalink to this definition"></a></dt>
<dd><p>Initializing a value of global variable to 0. It is used for storing the total number of successful goals.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scripts.go_to_point_action.normalize_angle">
<span class="sig-prename descclassname"><span class="pre">scripts.go_to_point_action.</span></span><span class="sig-name descname"><span class="pre">normalize_angle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">angle</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/go_to_point_action.html#normalize_angle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.go_to_point_action.normalize_angle" title="Permalink to this definition"></a></dt>
<dd><p>This is a function used for normalizing the orientation angle of robot from goal orientation.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scripts.go_to_point_action.position_">
<span class="sig-prename descclassname"><span class="pre">scripts.go_to_point_action.</span></span><span class="sig-name descname"><span class="pre">position_</span></span><em class="property"> <span class="pre">=</span> <span class="pre">0</span></em><a class="headerlink" href="#scripts.go_to_point_action.position_" title="Permalink to this definition"></a></dt>
<dd><p>Initializing a value of global variable with datatype ‘int’ to 0. It is used for storing robot’s actual position.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scripts.go_to_point_action.pub_">
<span class="sig-prename descclassname"><span class="pre">scripts.go_to_point_action.</span></span><span class="sig-name descname"><span class="pre">pub_</span></span><em class="property"> <span class="pre">=</span> <span class="pre">None</span></em><a class="headerlink" href="#scripts.go_to_point_action.pub_" title="Permalink to this definition"></a></dt>
<dd><p>Initializing a value of global variable to ‘none’. It is used for initializing the publisher for topic ‘/cmd_vel’.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scripts.go_to_point_action.pub_cancel_status_">
<span class="sig-prename descclassname"><span class="pre">scripts.go_to_point_action.</span></span><span class="sig-name descname"><span class="pre">pub_cancel_status_</span></span><em class="property"> <span class="pre">=</span> <span class="pre">None</span></em><a class="headerlink" href="#scripts.go_to_point_action.pub_cancel_status_" title="Permalink to this definition"></a></dt>
<dd><p>Initializing a value of global variable to ‘none’. It is used for initializing the publisher for topic ‘/cancel_goals’.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scripts.go_to_point_action.pub_succ_status_">
<span class="sig-prename descclassname"><span class="pre">scripts.go_to_point_action.</span></span><span class="sig-name descname"><span class="pre">pub_succ_status_</span></span><em class="property"> <span class="pre">=</span> <span class="pre">None</span></em><a class="headerlink" href="#scripts.go_to_point_action.pub_succ_status_" title="Permalink to this definition"></a></dt>
<dd><p>Initializing the value of global variable to ‘none’. It is used for initializing the publisher for topic ‘/success_goals’.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scripts.go_to_point_action.pub_task_time_">
<span class="sig-prename descclassname"><span class="pre">scripts.go_to_point_action.</span></span><span class="sig-name descname"><span class="pre">pub_task_time_</span></span><em class="property"> <span class="pre">=</span> <span class="pre">None</span></em><a class="headerlink" href="#scripts.go_to_point_action.pub_task_time_" title="Permalink to this definition"></a></dt>
<dd><p>Initializing a value of global variable to ‘none’. It is used for initializing the publisher for topic ‘/task_time’.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scripts.go_to_point_action.speed_factor_angular_">
<span class="sig-prename descclassname"><span class="pre">scripts.go_to_point_action.</span></span><span class="sig-name descname"><span class="pre">speed_factor_angular_</span></span><em class="property"> <span class="pre">=</span> <span class="pre">0</span></em><a class="headerlink" href="#scripts.go_to_point_action.speed_factor_angular_" title="Permalink to this definition"></a></dt>
<dd><p>Initializing a value of global variable with datatype ‘int’ to 0. It is used for storing robot’s angular speed factor.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scripts.go_to_point_action.speed_factor_linear_">
<span class="sig-prename descclassname"><span class="pre">scripts.go_to_point_action.</span></span><span class="sig-name descname"><span class="pre">speed_factor_linear_</span></span><em class="property"> <span class="pre">=</span> <span class="pre">0</span></em><a class="headerlink" href="#scripts.go_to_point_action.speed_factor_linear_" title="Permalink to this definition"></a></dt>
<dd><p>Initializing a value of global variable with datatype ‘int’ to 0. It is used for storing robot’s linear speed factor.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scripts.go_to_point_action.t_array">
<span class="sig-prename descclassname"><span class="pre">scripts.go_to_point_action.</span></span><span class="sig-name descname"><span class="pre">t_array</span></span><em class="property"> <span class="pre">=</span> <span class="pre">layout:</span>&#160;&#160;&#160; <span class="pre">dim:</span> <span class="pre">[]</span>&#160;&#160; <span class="pre">data_offset:</span> <span class="pre">0</span> <span class="pre">data:</span> <span class="pre">[]</span></em><a class="headerlink" href="#scripts.go_to_point_action.t_array" title="Permalink to this definition"></a></dt>
<dd><p>Initializing a global variable with data structure type ‘Int32MultiArray()’ for storing the time taken by the robot to complete the tasks.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scripts.go_to_point_action.ub_a">
<span class="sig-prename descclassname"><span class="pre">scripts.go_to_point_action.</span></span><span class="sig-name descname"><span class="pre">ub_a</span></span><em class="property"> <span class="pre">=</span> <span class="pre">0.6</span></em><a class="headerlink" href="#scripts.go_to_point_action.ub_a" title="Permalink to this definition"></a></dt>
<dd><p>A global variable with datatype float used as a parameter for generating robot’s new velocities.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scripts.go_to_point_action.ub_d">
<span class="sig-prename descclassname"><span class="pre">scripts.go_to_point_action.</span></span><span class="sig-name descname"><span class="pre">ub_d</span></span><em class="property"> <span class="pre">=</span> <span class="pre">0.6</span></em><a class="headerlink" href="#scripts.go_to_point_action.ub_d" title="Permalink to this definition"></a></dt>
<dd><p>A global variable with datatype float used as a parameter for generating robot’s new velocities.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scripts.go_to_point_action.yaw_">
<span class="sig-prename descclassname"><span class="pre">scripts.go_to_point_action.</span></span><span class="sig-name descname"><span class="pre">yaw_</span></span><em class="property"> <span class="pre">=</span> <span class="pre">0</span></em><a class="headerlink" href="#scripts.go_to_point_action.yaw_" title="Permalink to this definition"></a></dt>
<dd><p>Initializing a value of global variable with datatype ‘int’ to 0. It is used for storing robot’s yaw value.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scripts.go_to_point_action.yaw_precision_">
<span class="sig-prename descclassname"><span class="pre">scripts.go_to_point_action.</span></span><span class="sig-name descname"><span class="pre">yaw_precision_</span></span><em class="property"> <span class="pre">=</span> <span class="pre">0.3490658503988659</span></em><a class="headerlink" href="#scripts.go_to_point_action.yaw_precision_" title="Permalink to this definition"></a></dt>
<dd><p>A global variable with datatype float, used as a parameter for robot’s yaw precision.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scripts.go_to_point_action.yaw_precision_2_">
<span class="sig-prename descclassname"><span class="pre">scripts.go_to_point_action.</span></span><span class="sig-name descname"><span class="pre">yaw_precision_2_</span></span><em class="property"> <span class="pre">=</span> <span class="pre">0.03490658503988659</span></em><a class="headerlink" href="#scripts.go_to_point_action.yaw_precision_2_" title="Permalink to this definition"></a></dt>
<dd><p>A global variable with datatype float, also used as a parameter for robot’s yaw precision.</p>
</dd></dl>

</div>
<div class="section" id="state-machine-module">
<h1>State Machine Module<a class="headerlink" href="#state-machine-module" title="Permalink to this headline"></a></h1>
<p>This files contains code for the ‘state_machine’ node. </p>
<p><p>Services :</p>
<p>° /user_interface ° /position_server</p>
<dl class="simple">
<dt><strong>Author</strong></dt><dd><p>Shozab Abidi </p>
</dd>
<dt><strong>Version</strong></dt><dd><p>1.0 </p>
</dd>
<dt><strong>Date</strong></dt><dd><p>25/10/2021</p>
</dd>
</dl>
</p>
<p><p>Action Clients / Services :</p>
<p>° /PositionAction</p>
</p>
<p>Description :</p>
<p>This node implements the state machine of the project. When the user starts the simulation, it receives a ‘string input’ as request to the service ‘/user interface’ from * ‘user_interface_action’ node. The ‘string input’ value act as a flag to signal the node to start the state machine loop in which it request another service ‘/position_server’ * which is hosted by ‘position_service’ node to randomly generate goal coordinates for the robot to follow. Once it receives the goal coordinates in response to the earlier * request to the service, it pass these goal coordinates to an action service ‘/go_to_point’ which is host by ‘go_to_point_action.py’ node. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv418StateMachineClient">
<span id="_CPPv318StateMachineClient"></span><span id="_CPPv218StateMachineClient"></span><span id="StateMachineClient"></span><span class="target" id="state__machine__action_8cpp_1add4e8a72af0092f8a6af8fade0922430"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">actionlib</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">SimpleActionClient</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">rt2_assignment1</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">PositionAction</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">StateMachineClient</span></span></span><a class="headerlink" href="#_CPPv418StateMachineClient" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv414user_interfaceRN15rt2_assignment17Command7RequestERN15rt2_assignment17Command8ResponseE">
<span id="_CPPv314user_interfaceRN15rt2_assignment17Command7RequestERN15rt2_assignment17Command8ResponseE"></span><span id="_CPPv214user_interfaceRN15rt2_assignment17Command7RequestERN15rt2_assignment17Command8ResponseE"></span><span id="user_interface__rt2_assignment1::Command::RequestR.rt2_assignment1::Command::ResponseR"></span><span class="target" id="state__machine__action_8cpp_1a1a9543636935547580c0657f4c7c0c2b"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">user_interface</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">rt2_assignment1</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">Command</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">Request</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">req</span></span>, <span class="n"><span class="pre">rt2_assignment1</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">Command</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">Response</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">res</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv414user_interfaceRN15rt2_assignment17Command7RequestERN15rt2_assignment17Command8ResponseE" title="Permalink to this definition"></a><br /></dt>
<dd><p>A callback function of the client for the ‘user_interface’. </p>
<p>
This function change the flag variable ‘start_’ value according to the user’s instruction which will either start or stop the simulation. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>req</strong> – request arguement of the service ‘user_interface’ with data type Command.Requesy </p></li>
<li><p><strong>res</strong> – response arguement of the service ‘user_interface’ with data type Command.Response </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>always true as this method cannot fail.</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv44mainiPPc">
<span id="_CPPv34mainiPPc"></span><span id="_CPPv24mainiPPc"></span><span id="main__i.cPP"></span><span class="target" id="state__machine__action_8cpp_1a3c04138a5bfe5d72780bb7e82a18e627"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">main</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">argc</span></span>, <span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">argv</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv44mainiPPc" title="Permalink to this definition"></a><br /></dt>
<dd><p>The main function of the node ‘state_machine’. </p>
<p>
This function initialize the ros node ‘state_machine’, client for service ‘/position_server’, action client for action service ‘/go_to_point’, advertise the service ‘/user * interface’ and implement state machine loop for the simulation. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>argc</strong> – an integer arguement </p></li>
<li><p><strong>argv</strong> – an string double pointer arguement.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>always return 0 as this function cannot fail.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-variables">Variables</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv46start_">
<span id="_CPPv36start_"></span><span id="_CPPv26start_"></span><span id="start___i"></span><span class="target" id="state__machine__action_8cpp_1a192e1eea0694845660bb87e0177da9aa"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">start_</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="o"><span class="pre">-</span></span><span class="m"><span class="pre">1</span></span><a class="headerlink" href="#_CPPv46start_" title="Permalink to this definition"></a><br /></dt>
<dd><p>&lt; Global variable used as a flag to start the simulation. </p>
<p>Global variable used to control the state machine loop. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv46count_">
<span id="_CPPv36count_"></span><span id="_CPPv26count_"></span><span id="count___i"></span><span class="target" id="state__machine__action_8cpp_1a9acf5084c965a76d24ec228412256bc3"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">count_</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><a class="headerlink" href="#_CPPv46count_" title="Permalink to this definition"></a><br /></dt>
<dd><p>Global variable used to store the state of assigned action. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv46Check_">
<span id="_CPPv36Check_"></span><span id="_CPPv26Check_"></span><span id="Check___ss"></span><span class="target" id="state__machine__action_8cpp_1a1af6467172efaf288c61934c9b0055f0"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Check_</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="s"><span class="pre">&quot;non&quot;</span></span><a class="headerlink" href="#_CPPv46Check_" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
</div>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Shozab Abidi.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>